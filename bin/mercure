#!/usr/bin/env php
<?php

namespace BenTools\MercurePHP;

use BenTools\MercurePHP\Command\GenerateJWTCommand;
use BenTools\MercurePHP\Command\ServeCommand;
use BenTools\MercurePHP\Command\StressSubscribersCommand;
use Symfony\Component\Console\Application;

require __DIR__.'/../vendor/autoload.php';

$application = new Application('Mercure PHP Hub');

$application->add((new ServeCommand())->setName('serve'));
$application->add((new GenerateJWTCommand())->setName('jwt:generate'));
$application->add((new StressSubscribersCommand())->setName('stress:subscribers'));

$application
    ->setDefaultCommand('serve')
    ->run();
